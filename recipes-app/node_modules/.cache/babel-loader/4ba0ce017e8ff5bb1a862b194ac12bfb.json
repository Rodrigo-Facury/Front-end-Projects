{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/Music/Trybe/projetos/sd-012-project-recipes-app/src/components/DrinksSearchBar.jsx\";\nimport React, { useContext, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport MyContext from '../context/MyContext';\nimport * as fetchAPI from '../service/fetchAPI';\nimport './searchBar.css';\n\nfunction DrinksSearchBar() {\n  const [type, setType] = useState('');\n  const [search, setSearch] = useState('');\n  const [data, setData] = useState([]);\n  const newDrinkRecipes = useContext(MyContext);\n\n  const handleChange = ({\n    target\n  }) => {\n    const {\n      id,\n      value: word,\n      name\n    } = target;\n\n    if (name === 'newSearch') {\n      setSearch(word);\n    } else {\n      setType(id);\n    }\n  };\n\n  const warning = () => {\n    if (type === 'firstLetter' && search.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n  };\n\n  const handleClick = async () => {\n    warning();\n    const drinks = await fetchAPI.filteredDrinks(type, search);\n    setData(drinks === null ? [] : drinks);\n\n    if (drinks === null) {\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    newDrinkRecipes(drinks === null ? [] : drinks);\n  };\n\n  if (data.length === 1) return /*#__PURE__*/React.createElement(Redirect, {\n    to: `/bebidas/${data[0].idDrink}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 33\n    }\n  });\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"formSearchBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    name: \"newSearch\",\n    \"data-testid\": \"search-input\",\n    type: \"text\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    htmlFor: \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    inline: true,\n    label: \"Ingrediente\",\n    id: \"ingredient\",\n    name: \"filter\",\n    type: \"radio\",\n    \"data-testid\": \"ingredient-search-radio\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    inline: true,\n    label: \"Nome\",\n    id: \"name\",\n    name: \"filter\",\n    type: \"radio\",\n    \"data-testid\": \"name-search-radio\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    inline: true,\n    label: \"Primeira Letra\",\n    id: \"firstLetter\",\n    name: \"filter\",\n    type: \"radio\",\n    \"data-testid\": \"first-letter-search-radio\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"exec-search-btn\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Buscar\"));\n}\n\nexport default DrinksSearchBar;","map":{"version":3,"sources":["/home/rodrigo/Music/Trybe/projetos/sd-012-project-recipes-app/src/components/DrinksSearchBar.jsx"],"names":["React","useContext","useState","Redirect","Form","MyContext","fetchAPI","DrinksSearchBar","type","setType","search","setSearch","data","setData","newDrinkRecipes","handleChange","target","id","value","word","name","warning","length","alert","handleClick","drinks","filteredDrinks","idDrink"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport MyContext from '../context/MyContext';\nimport * as fetchAPI from '../service/fetchAPI';\nimport './searchBar.css';\n\nfunction DrinksSearchBar() {\n  const [type, setType] = useState('');\n  const [search, setSearch] = useState('');\n  const [data, setData] = useState([]);\n  const newDrinkRecipes = useContext(MyContext);\n\n  const handleChange = ({ target }) => {\n    const { id, value: word, name } = target;\n    if (name === 'newSearch') {\n      setSearch(word);\n    } else {\n      setType(id);\n    }\n  };\n\n  const warning = () => {\n    if (type === 'firstLetter' && search.length > 1) {\n      return alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n  };\n\n  const handleClick = async () => {\n    warning();\n    const drinks = await fetchAPI.filteredDrinks(type, search);\n    setData(drinks === null ? [] : drinks);\n    if (drinks === null) {\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n    newDrinkRecipes(drinks === null ? [] : drinks);\n  };\n\n  if (data.length === 1) return <Redirect to={ `/bebidas/${data[0].idDrink}` } />;\n  return (\n    <Form className=\"formSearchBar\">\n      <Form.Control\n        name=\"newSearch\"\n        data-testid=\"search-input\"\n        type=\"text\"\n        onChange={ handleChange }\n      />\n      <Form.Label htmlFor=\"filter\">\n        <div className=\"mb-3\">\n          <Form.Check\n            inline\n            label=\"Ingrediente\"\n            id=\"ingredient\"\n            name=\"filter\"\n            type=\"radio\"\n            data-testid=\"ingredient-search-radio\"\n            onChange={ handleChange }\n          />\n          <Form.Check\n            inline\n            label=\"Nome\"\n            id=\"name\"\n            name=\"filter\"\n            type=\"radio\"\n            data-testid=\"name-search-radio\"\n            onChange={ handleChange }\n          />\n          <Form.Check\n            inline\n            label=\"Primeira Letra\"\n            id=\"firstLetter\"\n            name=\"filter\"\n            type=\"radio\"\n            data-testid=\"first-letter-search-radio\"\n            onChange={ handleChange }\n          />\n        </div>\n      </Form.Label>\n      <button\n        type=\"button\"\n        data-testid=\"exec-search-btn\"\n        onClick={ handleClick }\n      >\n        Buscar\n      </button>\n    </Form>\n  );\n}\n\nexport default DrinksSearchBar;\n"]},"metadata":{},"sourceType":"module"}